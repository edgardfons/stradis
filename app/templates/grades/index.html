{% extends 'base.html' %}
{% from 'macros.html' import form_field %}

{% block title %}Grades{% endblock %}

{% block content %}

<h1 class="title">Grades</h1>
<p class="stradisGuide">Consulte as suas grades geradas</p>

<div class="mt-3 d-flex justify-content-around col-md-12">
    
    <div class="p-3 flex-column card col-md-12">

        <h3 class="text-center">Pesquisar</h3>

        <hr class="dropdown-divider">

        <button type="button" class="btn btn-stradis align-self-end">Gerar nova</button>
        
        <form class="d-flex">

            <div class="mb-3 col-md-10">
                <label for="name" class="form-label">Filtro</label>
                <input type="email" class="form-control" id="name">
            </div>

            <div class="align-self-center mt-3 col-md-2">
                <label>&nbsp;</label>
                <button type="submit" class="btn btn-stradis"><i class="fa fa-search"></i></button>
            </div>
        </form>

        <table class="table table-bordered table-striped">
			<thead>
				<tr>
					<th class="text-center col-md-1">#</th>
					<th>Semestre Letivo</th>
                    <th>Instituição</th>
                    <th>Criada</th>
					<th class="col-md-1 text-center">Ações</th>
				</tr>
			</thead>
			<tbody>
				{% if grades.items %}

                    {% for grade_item in grades.items %}
                        {% include 'grades/_item.html' %}
                    {% endfor %}

                {% else %}

                    <tr>
                        <td colspan="4" class="text-center">Nenhum grade registrada</td>
                    </tr>

				{% endif %}
			</tbody>
		</table>

		<nav class="d-flex justify-content-end">
			<ul class="pagination">
				{% if grades.has_prev %}
				    <li class="page-item"> <a class="page-link"
						href="{{ url_for('.index', page=grades.prev_num) }}">Anterior</a></li>
				{% else %}
				    <li class="page-item"><a class="page-link btn disabled" href="#">Anterior</a></li>
				{% endif %}

				{% for page in grades.iter_pages(left_edge=3, right_edge=3) %}
                    {% if page %}

                        {% if page==grades.page %}
                            <li class="page-item active"><a class="page-link" href="{{ url_for('.index', page=page) }}">{{ page }}</a></li>
                        {% else %}
                            <li class="page-item"><a class="page-link" href="{{ url_for('.index', page=page) }}">{{ page }}</a></li>
                        {% endif %}

                    {% else %}

				        <li class="page-item disabled" id="example_ellipsis"><a href="#" class="page-link">…</a></li>

				    {% endif %}
				{% endfor %}

				{% if grades.has_next %}
                    <li class="page-item"> <a class="page-link"
                            href="{{ url_for('.index', page=grades.next_num) }}">Próximo</a></li>
				{% else %}
				    <li class="page-item"><a class="page-link btn disabled" href="#">Próximo</a></li>
				{% endif %}

			</ul>
		</nav>

    </div>

</div>

{% endblock %}